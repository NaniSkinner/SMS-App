# OAuth Documentation

This folder contains all documentation related to Google Calendar OAuth configuration.

---

## üìÑ Files in This Folder

### `IMPORTANT.md` ‚≠ê

**The single source of truth for OAuth configuration.**

This is the main documentation file you should read. It contains:

- Complete explanation of the working OAuth setup
- Step-by-step configuration guide
- Troubleshooting instructions
- Why this configuration works
- How to verify everything is correct
- Key insights and lessons learned

**Start here for everything OAuth-related.**

---

### `config.lock`

Configuration lock file that prevents unauthorized OAuth changes.

This file:

- Defines the locked OAuth client ID
- Used by validation scripts to ensure configuration stays correct
- Should NOT be modified without team approval

**Do not edit this file unless you're intentionally changing the OAuth configuration.**

---

## üîß Related Scripts

OAuth-related scripts are in the `/scripts` folder:

- `diagnose-calendar.sh` - Check if OAuth is configured correctly
- `validate-oauth-config.sh` - Validate before building/deploying
- `fix-oauth-secrets.sh` - Update AWS Secrets Manager with iOS client

---

## üöÄ Quick Start

### If OAuth is working:

- Don't change anything
- Read `IMPORTANT.md` to understand why it works

### If OAuth is broken:

1. Run: `bash scripts/diagnose-calendar.sh`
2. Read: `IMPORTANT.md` for troubleshooting
3. Follow the fix instructions provided

---

## üìå Key Configuration

**OAuth Client:** iOS Application  
**Client ID:** 703601462595-qm6fnoqu40dqiqleejiiaean8v703639  
**Used By:** Both iOS app and Lambda

For complete details, see `IMPORTANT.md`

---

## ‚ö†Ô∏è Important Notes

- This is a **bare workflow** iOS app (not Expo Go)
- Uses **native iOS OAuth** with URL scheme redirects
- Does NOT use Expo auth proxy
- App and Lambda must use the SAME OAuth client
- iOS clients DO have secrets (for Lambda token refresh)

---

**Last Updated:** October 24, 2025  
**Status:** ‚úÖ Working and tested
